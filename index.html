<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dice Game</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <div class="container">
        <h1>Let's Play</h1>
        <div class="dice">
            <p class="P1">Player1</p>
            <img src="./im/dice1.png" alt="dice1" class="img1">
            <p class="count1">0</p>
        </div>

        <div class="dice">
            <p class="P2">Player2</p>
            <img src="./im/dice1.png" alt="dice1" class="img2">
            <p class="count2">0</p>
        </div>
        <br/>

    
    <div class="bottom"> 
    <!-- </div>
    <div class="bottom">   -->
        <button type="button" class="btn" onclick="edit()">Edit Names</button>
        <button type="button" class="btn" onclick="roll()">Roll The Dice</button>
        <button type="button" class="btn" onclick="fin()">Finish </button>

    </div>
</div>
    <script src="game.js" charset="utf-8"></script>
    <script>
        let player1="Player1";       //same class as the one we want to refer
        let player2="Player2";

        let result = document.querySelector('h1');

        let c1=0;
        let c2=0;

        let c11=document.querySelector(".count1");
        let c22=document.querySelector(".count2");



        function edit()
        {
            player1=prompt("Change Player 1 Name")      //shows a dialog box that takes message
            player2=prompt("Change Player 2 Name")
            
            if(player1.length < 1 || player2.length < 1)
            {
                alert('Please Enter a valid Name');
                return;
            }

            document.querySelector(".P1").innerHTML=player1;       //-----------
            document.querySelector(".P2").innerHTML=player2;
        }

        function roll()
        {
            let diceNum1=document.querySelector(".img1");
            let diceNum2=document.querySelector(".img2");

            // let c11=document.querySelector(".count1");
            // let c22=document.querySelector(".count2");

            diceNum1.setAttribute("src","./im/diceroll.gif")
            diceNum2.setAttribute("src","./im/diceroll.gif")

            // result.innerHTML = ""
            setTimeout(() => {
                let randomNumber1 = Math.floor(Math.random() * 6) + 1;//random number generated
                let randomNumber2 = Math.floor(Math.random() * 6) + 1;

                diceNum1.setAttribute('src','./im/dice'+randomNumber1+'.png');
                diceNum2.setAttribute('src','./im/dice'+randomNumber2+'.png');

                if(randomNumber1 === randomNumber2){
                    result.innerHTML = "Draw!";
                }
                else if(randomNumber1 < randomNumber2){
                    result.innerHTML = (player2 + " Wins!");
                    c2+=1;
                    c22.innerHTML=c2;
                }
                else{
                    result.innerHTML=(player1 + " Wins!");
                    c1+=1;
                    c11.innerHTML=c1;
                }
            }, 1250);   
        }    //why 2500??

        function fin()
        {
            // let result = document.querySelector('h1');

            if(c1>c2){
                result.innerHTML = player1 + " Won this round!!";
            }
            else if(c1<c2){
                result.innerHTML = player2 + " Won this round!!";
            }
            else{
                result.innerHTML = "Round ended up in a Draw!";
            }

            c1=0;
            c2=0;

            c11.innerHTML=c1;
            c22.innerHTML=c2;
        }

/// add a finsh option and count option
        

    </script>
</body>

</html>